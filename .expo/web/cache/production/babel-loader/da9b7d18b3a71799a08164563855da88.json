{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import*as ImagePicker from'expo-image-picker';import React,{useEffect}from'react';import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Icon from\"./Icon\";function ImageInput(_ref){var imageUri=_ref.imageUri,onPress=_ref.onPress;var requestPermission=function requestPermission(){var _await$ImagePicker$re,granted;return _regeneratorRuntime.async(function requestPermission$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());case 2:_await$ImagePicker$re=_context.sent;granted=_await$ImagePicker$re.granted;if(!granted)alert('You need to enable to access your photos');case 5:case\"end\":return _context.stop();}}},null,null,null,Promise);};useEffect(function(){requestPermission();},[]);var handleSelectImage=function handleSelectImage(){var result;return _regeneratorRuntime.async(function handleSelectImage$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!imageUri){_context2.next=2;break;}return _context2.abrupt(\"return\",onPress(imageUri));case 2:_context2.prev=2;_context2.next=5;return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Images,quality:0.5}));case 5:result=_context2.sent;if(!result.cancelled)onPress(result.uri);_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](2);alert(_context2.t0);case 12:case\"end\":return _context2.stop();}}},null,null,[[2,9]],Promise);};return React.createElement(TouchableOpacity,{style:styles.container,onPress:handleSelectImage},imageUri?React.createElement(Image,{source:{uri:imageUri},style:styles.image,key:imageUri}):React.createElement(Icon,{name:\"camera\",backgroundColor:\"transparent\",size:80}));}var styles=StyleSheet.create({container:{backgroundColor:'#ddd',width:100,height:100,borderRadius:20,marginRight:5,justifyContent:'center',alignItems:'center',overflow:'hidden'},image:{width:'100%',height:'100%'}});export default ImageInput;","map":{"version":3,"sources":["C:/Users/Tuong/Documents/projects/nodejs/react-native/React-Native/app/components/ImageInput.js"],"names":["ImagePicker","React","useEffect","Icon","ImageInput","imageUri","onPress","requestPermission","requestCameraPermissionsAsync","granted","alert","handleSelectImage","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","quality","result","cancelled","uri","styles","container","image","StyleSheet","create","backgroundColor","width","height","borderRadius","marginRight","justifyContent","alignItems","overflow"],"mappings":"4DAAA,MAAO,GAAKA,CAAAA,WAAZ,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,qMAEA,MAAOC,CAAAA,IAAP,cAEA,QAASC,CAAAA,UAAT,MAA2C,IAArBC,CAAAA,QAAqB,MAArBA,QAAqB,CAAXC,OAAW,MAAXA,OAAW,CACzC,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,iNACEP,WAAW,CAACQ,6BAAZ,EADF,6CAChBC,OADgB,uBAChBA,OADgB,CAExB,GAAI,CAACA,OAAL,CAAcC,KAAK,CAAC,0CAAD,CAAL,CAFU,qEAA1B,CAKAR,SAAS,CAAC,UAAM,CACdK,iBAAiB,GAClB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMI,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,gJACpBN,QADoB,2DACHC,OAAO,CAACD,QAAD,CADJ,4EAGDL,WAAW,CAACY,uBAAZ,CAAoC,CACvDC,UAAU,CAAEb,WAAW,CAACc,gBAAZ,CAA6BC,MADc,CAEvDC,OAAO,CAAE,GAF8C,CAApC,CAHC,SAGhBC,MAHgB,gBAOtB,GAAI,CAACA,MAAM,CAACC,SAAZ,CAAuBZ,OAAO,CAACW,MAAM,CAACE,GAAR,CAAP,CAPD,mFAStBT,KAAK,cAAL,CATsB,0EAA1B,CAYA,MACE,qBAAC,gBAAD,EAAkB,KAAK,CAAEU,MAAM,CAACC,SAAhC,CAA2C,OAAO,CAAEV,iBAApD,EACGN,QAAQ,CACP,oBAAC,KAAD,EAAO,MAAM,CAAE,CAAEc,GAAG,CAAEd,QAAP,CAAf,CAAkC,KAAK,CAAEe,MAAM,CAACE,KAAhD,CAAuD,GAAG,CAAEjB,QAA5D,EADO,CAGP,oBAAC,IAAD,EAAM,IAAI,CAAC,QAAX,CAAoB,eAAe,CAAC,aAApC,CAAkD,IAAI,CAAE,EAAxD,EAJJ,CADF,CASD,CAED,GAAMe,CAAAA,MAAM,CAAGG,UAAU,CAACC,MAAX,CAAkB,CAC/BH,SAAS,CAAE,CACTI,eAAe,CAAE,MADR,CAETC,KAAK,CAAE,GAFE,CAGTC,MAAM,CAAE,GAHC,CAITC,YAAY,CAAE,EAJL,CAKTC,WAAW,CAAE,CALJ,CAMTC,cAAc,CAAE,QANP,CAOTC,UAAU,CAAE,QAPH,CAQTC,QAAQ,CAAE,QARD,CADoB,CAW/BV,KAAK,CAAE,CACLI,KAAK,CAAE,MADF,CAELC,MAAM,CAAE,MAFH,CAXwB,CAAlB,CAAf,CAiBA,cAAevB,CAAAA,UAAf","sourcesContent":["import * as ImagePicker from 'expo-image-picker';\r\nimport React, { useEffect } from 'react';\r\nimport { Image, StyleSheet, TouchableOpacity } from 'react-native';\r\nimport Icon from './Icon';\r\n\r\nfunction ImageInput({ imageUri, onPress }) {\r\n  const requestPermission = async () => {\r\n    const { granted } = await ImagePicker.requestCameraPermissionsAsync();\r\n    if (!granted) alert('You need to enable to access your photos');\r\n  };\r\n\r\n  useEffect(() => {\r\n    requestPermission();\r\n  }, []);\r\n\r\n  const handleSelectImage = async () => {\r\n    if (imageUri) return onPress(imageUri);\r\n    try {\r\n      const result = await ImagePicker.launchImageLibraryAsync({\r\n        mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n        quality: 0.5,\r\n      });\r\n      if (!result.cancelled) onPress(result.uri);\r\n    } catch (error) {\r\n      alert(error);\r\n    }\r\n  };\r\n  return (\r\n    <TouchableOpacity style={styles.container} onPress={handleSelectImage}>\r\n      {imageUri ? (\r\n        <Image source={{ uri: imageUri }} style={styles.image} key={imageUri} />\r\n      ) : (\r\n        <Icon name=\"camera\" backgroundColor=\"transparent\" size={80} />\r\n      )}\r\n    </TouchableOpacity>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    backgroundColor: '#ddd',\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 20,\r\n    marginRight: 5,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  image: {\r\n    width: '100%',\r\n    height: '100%',\r\n  },\r\n});\r\n\r\nexport default ImageInput;\r\n"]},"metadata":{},"sourceType":"module"}